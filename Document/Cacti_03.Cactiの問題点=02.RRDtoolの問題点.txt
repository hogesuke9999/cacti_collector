02.RRDtoolの問題点 †
Cactiは取得したデータをRRDtoolのデータファイルに記録していくのだが、 RRDtoolは冗長性を持たせるのが難しい仕組みであるので、。
RRDtoolのデータファイルは、ラウンドロビンの構成でデータを保存していく。 RRDtoolのデータファイルを新規に作成時に、保持数分の格納領域を確保し、 新たにデータを書き込む際に、一定の保持数を超えているデータは削除されるようになっている。
このため、データファイルのファイルサイズが大きくなると言うことがない反面、 ファイルの一部のみが書き換わるという仕様となっている。
ファイルサイズを気にせずにデータをどんどん記録できるという点では、非常に使い勝手のいいツールであるのだが、 書き換わるのがファイルの一部分であるため、バックアップするためにはファイル全体をコピーする必要がある。 差分のみを更新できるようにはなっていないのである。
また、過去分のデータを記録できないという仕様となっているので、データが欠損した場合、 その登録するべきデータが分かっていたとしても、登録することができないと言うことになっている。
